---
title: "Untitled"
format: html
editor: visual
---

```{r}
library(haven)
library(tidyverse)
```

```{r}
sleep <- read_xpt("SLQ_J.XPT")
diet_intake <- read_xpt("DR1IFF_J.XPT")
diet_total <- read_xpt("DR1TOT_J.XPT")
```

```{r}
#histograms of sleep hours on weekdays vs weekends.SLD012 represents week days and SLD013 weekends.
sleep |> 
  select(c(SEQN, SLD012, SLD013)) |>
  pivot_longer(cols = c('SLD012', 'SLD013'),
               names_to = 'period',
               values_to = 'hours') |>
  ggplot(aes(x = hours, fill = period)) + geom_histogram(bins = 24) + facet_grid(period~.) +
  theme(legend.position = 'none')
```

```{r}
diet_total %>%
  select(DR1TPROT, DR1TCARB, DR1TTFAT, DR1TFIBE) %>%
  pivot_longer(cols = everything(), names_to = "Category", values_to = "Value") %>%
  filter(!is.na(Value)) %>%
  ggplot(aes(x = Value, fill = Category)) +
  geom_histogram(color = "black", alpha = 0.7) +
  facet_wrap(~ Category, scales = c("free")) +
  labs(
    x = "Values (g)",
    y = "Frequency",
    title = "Histograms of Daily Macronutrient Intake"
  ) +
  theme(legend.position = "none") +
  theme_minimal()
```
